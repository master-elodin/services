<div class="service-page">
    <div class="service-page__header">
        <div data-bind="click: clearAllActive" class="service-page__home-icon">
            <i class="fa fa-home" aria-hidden="true"></i>
        </div>
        <div class="service-page__active-items">
            <!-- ko with: activeApp -->
            <div data-bind="click: $root.activateItem" class="service-page__active-item service-page__active-item--application">
                <span data-bind="text: name"></span>
            </div>
            <!-- /ko -->
            <!-- ko with: activeEnv -->
            <div data-bind="click: $root.activateItem" class="service-page__active-item service-page__active-item--environment">
                <span data-bind="text: name"></span>
            </div>
            <!-- /ko -->
            <!-- ko with: activeHostGroup -->
            <div class="service-page__active-item service-page__active-item--host-group">
                <span data-bind="text: name"></span>
            </div>
            <!-- /ko -->
        </div>
        <!-- ko if: showHostGroupHealth -->
        <dv class="service-page__filter">
            <input data-bind="textInput: filterValue" placeholder="filter services..." autofocus="autofocus">
        </dv>
        <div data-bind="click: refresh" class="service-page__refresh">
            <!-- ko if: isRefreshing -->
            <i class="fa fa-spinner fa-spin" aria-hidden="true"></i>
            <!-- /ko -->
            <!-- ko ifnot: isRefreshing -->
            <i class="fa fa-refresh" aria-hidden="true"></i>
            <!-- /ko -->
        </div>
        <!-- /ko -->
        <div class="service-page__edit-options">
            <!-- ko if: editMode -->
            <div data-bind="click: toggleEdit" class="service-page__edit-element service-page__edit-save" title="Save changes">
                <i class="fa fa-floppy-o" aria-hidden="true"></i>
            </div>
            <div data-bind="click: cancelEdit" class="service-page__edit-element service-page__edit-cancel" title="Cancel changes">
                <i class="fa fa-times" aria-hidden="true"></i>
            </div>
            <!-- /ko -->
            <div data-bind="click: toggleEdit, css: {\'service-page__edit-toggle--toggled\': editMode}" class="service-page__edit-element service-page__edit-toggle" title="Toggle editing groups">
                <i class="fa fa-gear" aria-hidden="true"></i>
            </div>
        </div>
    </div>
    <div class="service-page__body">
        <!-- ko if: showHostGroupHealth -->
            <!-- ko with: activeHostGroup -->
                <div class="service-page__host-group-health">
                    <!-- ko if: hosts().length === 0 -->
                    <span>No hosts selected for given host-group!</span><br/>
                    <span>Edit settings to add hosts.</span>
                    <!-- /ko -->
                    <!-- ko foreach: getServiceHealths -->
                        ${src/service-health/service-health.html}
                    <!-- /ko -->
                </div>
            <!-- /ko -->
        <!-- /ko -->
        <!-- ko ifnot: showHostGroupHealth -->
        <div class="service-page__data-rows">
            <div class="data-block">
                <div class="data-row__braces">
                    <span>{</span>
                </div>
                <!-- ko foreach: applications -->
                    ${src/application/application.html}
                <!-- /ko -->
                <!-- ko if: editMode -->
                    <!-- ko with: addDataRow -->
                    ${src/data-row/data-row.html}
                    <!-- /ko -->
                <!-- /ko -->
                <div class="data-row__braces">
                    <span>}</span>
                </div>
            </div>
        </div>
        <!-- /ko -->
    </div>
</div>